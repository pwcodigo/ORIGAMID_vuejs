<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <script src="vue.js"></script>
    <title>Aula2 - 09 - Watch Assincrono</title>

</head>
<body>

    <div id="app">          
      Informe seu cep: <input type="text" placeholder="cep" maxlength="8" v-model="cep"/>
      <h3>{{cep}}</h3>  
      {{ resultadoCEP}}
    </div>
    

    <script>
     const app = new Vue ({
         el: "#app",
         data: {
             cep: "",
             resultadoCEP: ""
         }, 
         watch : {
            cep(numeroDoCep){
                if(numeroDoCep.length === 8)
                {
                    fetch(`http://viacep.com.br/ws/${numeroDoCep}/json`)
                    .then(r => r.json())
                    .then(r => {
                    this.resultadoCEP = r;
                    }); 
                }               
            }
         }
     });
    </script>
</body>
</html>